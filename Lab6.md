# Lab 6

#### 1. Створити матрицю mat з 5 стовпцями та 10 строками за допомогою matrix з випадковими даними (функція rnorm(50))

```R
mat <- matrix(rnorm(50), ncol=5, nrow=10)
print(mat)
```
```R
             [,1]        [,2]        [,3]        [,4]       [,5]
 [1,]  0.80531323  0.55621741  0.49925443  0.14970287  1.5896594
 [2,] -1.80500597  0.62242646  0.99047635 -1.22898659 -0.8634587
 [3,]  0.20256155  0.08078909  0.03314694  0.38420306 -0.4440905
 [4,]  1.33566203 -1.60090277  1.85451701  1.15863575 -0.9323317
 [5,]  1.96097593  0.31658786  1.21172251  0.58470165  1.6046031
 [6,]  0.05897516  1.07413915 -0.17918519 -0.12203846  0.5567674
 [7,]  0.14792340  0.47283082 -0.70857336  0.65019765  2.0346812
 [8,] -0.27332063 -0.04941480  1.11351839  0.08606584 -0.4658619
 [9,] -0.68627790  0.14993002  0.12150766 -0.44013621  1.2315610
[10,] -1.12220367 -0.55062667 -0.38753405 -0.73745124 -0.7362252
```

#### 2. Знайти максимальне значення в кожному стовпці.

```R
print(apply(mat, 2, max))
```
```R
[1] 1.960976 1.074139 1.854517 1.158636 2.034681
```

#### 3. Знайти середнє (mean) значення кожного стовпця.

```R
print(apply(mat, 2, mean))
```
```R
[1] 0.06246031 0.10719766 0.45488507 0.04848943 0.35753042
```

#### 4. Знайти мінімальне значення в кожному рядку.

```R
print(apply(mat, 1, min))
```
```R
 [1]  0.1497029 -1.8050060 -0.4440905 -1.6009028  0.3165879 -0.1791852 -0.7085734 -0.4658619
 [9] -0.6862779 -1.1222037
```

#### 5. Відсортувати кожен стовбець таблиці.

```R
print(apply(mat, 2, sort))
```
```R
             [,1]        [,2]        [,3]        [,4]       [,5]
 [1,] -1.80500597 -1.60090277 -0.70857336 -1.22898659 -0.9323317
 [2,] -1.12220367 -0.55062667 -0.38753405 -0.73745124 -0.8634587
 [3,] -0.68627790 -0.04941480 -0.17918519 -0.44013621 -0.7362252
 [4,] -0.27332063  0.08078909  0.03314694 -0.12203846 -0.4658619
 [5,]  0.05897516  0.14993002  0.12150766  0.08606584 -0.4440905
 [6,]  0.14792340  0.31658786  0.49925443  0.14970287  0.5567674
 [7,]  0.20256155  0.47283082  0.99047635  0.38420306  1.2315610
 [8,]  0.80531323  0.55621741  1.11351839  0.58470165  1.5896594
 [9,]  1.33566203  0.62242646  1.21172251  0.65019765  1.6046031
[10,]  1.96097593  1.07413915  1.85451701  1.15863575  2.0346812
```

#### 6. Знайти кількість значень < 0 для кожного стовпця. Використати свою функцію. 

+ Функція для знаходження кількості значень < 0 у векторі
```R
negatives_count <- function(x) {
  return (sum(x < 0))
}

```

+ Використання функції
```R
print(apply(mat, 2, negatives_count))
```
```R
[1] 4 3 3 4 5
```

#### 7. Вивести вектор з булевими значеннями TRUE та FALSE. TRUE, якщо в стовпці є елементи >2, FALSE – якщо немає.

+ Функція для визначення, чи є у векторі елементи > 2
```R
is_any_element_more_than_two <- function(x) {
  return (sum(x > 2) > 0)
}
```

```R
print(apply(mat, 2, is_any_element_more_than_two))
```
```R
[1] FALSE FALSE FALSE FALSE  TRUE
```

#### 8. Створить список list1 <- list(observationA = c(1:5, 7:3), observationB = matrix(1:6, nrow=2)). Для цього списку знайдіть sum за допомогою lapply.

+ Створений список
```R
list1 <- list(observationA = c(1:5, 7:3), observationB = matrix(1:6, nrow=2))
print(list1)
```
```R
$`observationA`
 [1] 1 2 3 4 5 7 6 5 4 3

$observationB
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6
```

+ Знайдення sum з функцією lapply
```R
print(lapply(list1, sum))
```
```R
$`observationA`
[1] 40

$observationB
[1] 21
```

#### 9. Для кожного елементу списку list1 знайдіть максимальне та мінімальне значення (range) за допомогою lapply та sapply.

+ lapply
```R
print(lapply(list1, range))
```
```R
$`observationA`
[1] 1 7

$observationB
[1] 1 6
```

+ sapply
```R
print(sapply(list1, range))
```
```R
     observationA observationB
[1,]            1            1
[2,]            7            6
```

#### 10. Для вбудованого набору даних InsectSprays знайти середнє count для кожного spray.

```R
grouped <- with(InsectSprays, split(count, spray))
print(sapply(grouped, mean))
```
```R
        A         B         C         D         E         F 
14.500000 15.333333  2.083333  4.916667  3.500000 16.666667
```
